#!/usr/bin/env zsh
source ${0:A:h}/../../deploy

brew_deps=(
  bpytop
  hacker1024/hacker1024/coretemp
  gtypist
  mvtools
  p7zip
  rsync
  tree
  wget
  ffmpeg
  ffms2
  prettyping
  yt-dlp
)

cask_deps=(
  handbrake
  obsidian
  syncthing
  iina
  highlight
  rar
  adobe-acrobat-reader
  alfred
  android-file-transfer
  appcleaner
  bruno
  calibre
  chatgpt
  deepl
  grandperspective
  keka
  keycastr
  orbstack
  omnidisksweeper
  provisionql
  qlcolorcode
  qlmarkdown
  qlprettypatch
  qlstephen
  qlvideo
  quicklook-json
  quicklookase
  skim
  suspicious-package
  visual-studio-code
  webpquicklook
)

# link() {}

install() {
  case $(_os) in
    macos)
      for pkg in "${brew_deps[@]}"; do
        brew install "$pkg"
      done
      for pkg in "${cask_deps[@]}"; do
        brew install --cask "$pkg"
      done
      brew tap cjbassi/gotop
      brew install gotop
      brew tap teamookla/speedtest
      brew install speedtest
      ;;
  esac
}

update() {
  install
}

# clean() {}

init "$@"
