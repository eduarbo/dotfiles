#!/usr/bin/env zsh
source ${0:A:h}/../../deploy
source env.zsh

link() {
  mklink config/flake8 $XDG_CONFIG_HOME
}

install() {
  curl -L https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer | bash
  topic-enabled-p dev/node || _dot dev/node
  npm install -g pyright
  nodenv rehash
}

update() {
  pyenv update
}

clean() {
  rm -rfv "$XDG_CONFIG_HOME/flake8" "$PYENV_ROOT" "$XDG_CACHE_HOME/zsh/pyenv"
}

init "$@"
